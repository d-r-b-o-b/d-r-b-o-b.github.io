<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB R2020a"><title>NSCS 344, Week 8</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 15px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S2 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S3 { margin: 20px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.S4 { margin: 10px 0px 20px; padding-left: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 14px;  }
.S5 { margin-left: 56px; line-height: 21px; min-height: 0px; text-align: left; white-space: pre-wrap;  }
.CodeBlock { background-color: #F7F7F7; margin: 10px 0 10px 0;}
.S6 { border-left: 0.994318px solid rgb(233, 233, 233); border-right: 0.994318px solid rgb(233, 233, 233); border-top: 0.994318px solid rgb(233, 233, 233); border-bottom: 0.994318px solid rgb(233, 233, 233); border-radius: 4px; padding: 6px 45px 4px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S7 { margin: 10px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S8 { border-left: 0.994318px solid rgb(233, 233, 233); border-right: 0.994318px solid rgb(233, 233, 233); border-top: 0.994318px solid rgb(233, 233, 233); border-bottom: 0px none rgb(0, 0, 0); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S9 { border-left: 0.994318px solid rgb(233, 233, 233); border-right: 0.994318px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 0px none rgb(0, 0, 0); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S10 { border-left: 0.994318px solid rgb(233, 233, 233); border-right: 0.994318px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 0.994318px solid rgb(233, 233, 233); border-radius: 0px 0px 4px 4px; padding: 0px 45px 4px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }</style></head><body><div class = rtcContent><h1  class = 'S0'><span>NSCS 344, Week 8</span></h1><h1  class = 'S1'><span>Assignment: Least-squares model fitting</span></h1><div  class = 'S2'><span style=' font-weight: bold;'> *** Due date: Start of class in Week 9 ***</span></div><h2  class = 'S3'><span>Part 1: Make a function to compute the mean squared error (3 points)</span></h2><ul  class = 'S4'><li  class = 'S5'><span>Follow along with the notes to create a function that computes the mean squared error between the data and the model for a given value of </span><span style="font-family: STIXGeneral, STIXGeneral-webfont, serif; font-style: italic; font-weight: 400; color: rgb(0, 0, 0);">σ</span></li></ul><h2  class = 'S3'><span>Part 2: Plot the mean squared error as a function of sigma (3 points)</span></h2><ul  class = 'S4'><li  class = 'S5'><span>Use your function to compute the error for a range of sigma values</span></li><li  class = 'S5'><span>Plot the error as a function of sigma</span></li></ul><h2  class = 'S3'><span>Part 3: Use fmincon to automatically find the minimum of the error function (4 points)</span></h2><ul  class = 'S4'><li  class = 'S5'><span>Follow along with the notes to use fmincon to automatically find the minimum of the error function</span></li><li  class = 'S5'><span>Add a star to your error plot at this minimum value</span></li></ul><h2  class = 'S3'><span>Part 4: Use fmincon to fit a softmax function with two parameters (2 Extra Credit points)</span></h2><div  class = 'S2'><span>Extend your model to include two parameters</span></div><div  class = 'S2'><span texencoding="p_{safe} = \frac{1}{1 + \exp\left( \beta \times \left( EV_{risky} - EV_{safe} - \theta \right) \right) }" style="vertical-align:-17px"><img src="data:image/png;base64,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" width="258.5" height="35" /></span></div><div  class = 'S2'><span>Use fmincon to fit both </span><span style="font-family: STIXGeneral, STIXGeneral-webfont, serif; font-style: italic; font-weight: 400; color: rgb(0, 0, 0);">σ</span><span> (which determines </span><span style="font-family: STIXGeneral, STIXGeneral-webfont, serif; font-style: italic; font-weight: 400; color: rgb(0, 0, 0);">β</span><span>) and </span><span style="font-family: STIXGeneral, STIXGeneral-webfont, serif; font-style: italic; font-weight: 400; color: rgb(0, 0, 0);">θ</span><span>.  To fit more than one parameter you will need to define your likelihood function to have two free parameters</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span style="color: rgb(0, 0, 255);">function </span><span>error = twoParameterSoftmax(rsk, EV_risky, EV_safe, sigma, theta)</span></span></div></div></div><div  class = 'S7'><span>and your function handle slightly differently too ...</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>fHandle = @(x) twoParameterSoftmax(rsk, EV_risky, EV_safe, x(1), x(2));</span></span></div></div></div><div  class = 'S7'><span>Then you'll need a vector of starting points, lower bounds and upper bounds, to give a starting point, lower bound and upper bound for each of the parameters (</span><span style="font-family: STIXGeneral, STIXGeneral-webfont, serif; font-style: italic; font-weight: 400; color: rgb(0, 0, 0);">σ</span><span> and </span><span style="font-family: STIXGeneral, STIXGeneral-webfont, serif; font-style: italic; font-weight: 400; color: rgb(0, 0, 0);">θ</span><span>)</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre;"><span>LB = [0 -inf]; </span><span style="color: rgb(60, 118, 61);">% lower bound 0 for sigma, -inf for theta</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>UB = [inf inf]; </span><span style="color: rgb(60, 118, 61);">% upper bound inf for sigma, inf for theta</span></span></div></div><div class="inlineWrapper"><div  class = 'S10'><span style="white-space: pre;"><span>X0 = [1 0]; </span><span style="color: rgb(60, 118, 61);">% initial condition 1 for sigma, 0 for theta</span></span></div></div></div><div  class = 'S7'><span>After all of this, you call fmincon in exactly the same way, but instead of giving you a single best fitting parameter, the output is a vector of best fitting parameters.</span></div></div>
<br>
<!-- 
##### SOURCE BEGIN #####
function error = twoParameterSoftmax(rsk, EV_risky, EV_safe, sigma, theta)
%% TWOPARAMETERSOFTMAX NSCS 344, Week 8
%% Assignment: Least-squares model fitting
% **** Due date: Start of class in Week 9 ****
%% Part 1: Make a function to compute the mean squared error (3 points)
%% 
% * Follow along with the notes to create a function that computes the mean 
% squared error between the data and the model for a given value of $\sigma$
%% Part 2: Plot the mean squared error as a function of sigma (3 points)
%% 
% * Use your function to compute the error for a range of sigma values
% * Plot the error as a function of sigma
%% Part 3: Use fmincon to automatically find the minimum of the error function (4 points)
%% 
% * Follow along with the notes to use fmincon to automatically find the minimum 
% of the error function
% * Add a star to your error plot at this minimum value
%% Part 4: Use fmincon to fit a softmax function with two parameters (2 Extra Credit points)
% Extend your model to include two parameters
% 
% $$p_{safe} = \frac{1}{1 + \exp\left( \beta \times \left( EV_{risky} - EV_{safe} 
% - \theta \right) \right) }$$
% 
% Use fmincon to fit both $\sigma$ (which determines $\beta$) and $\theta$.  
% To fit more than one parameter you will need to define your likelihood function 
% to have two free parameters
%% 
% and your function handle slightly differently too ...
fHandle = @(x) twoParameterSoftmax(rsk, EV_risky, EV_safe, x(1), x(2));
%% 
% Then you'll need a vector of starting points, lower bounds and upper bounds, 
% to give a starting point, lower bound and upper bound for each of the parameters 
% ($\sigma$ and $\theta$)
LB = [0 -inf]; % lower bound 0 for sigma, -inf for theta
UB = [inf inf]; % upper bound inf for sigma, inf for theta
X0 = [1 0]; % initial condition 1 for sigma, 0 for theta
%% 
% After all of this, you call fmincon in exactly the same way, but instead of 
% giving you a single best fitting parameter, the output is a vector of best fitting 
% parameters.
##### SOURCE END #####
--></body></html>